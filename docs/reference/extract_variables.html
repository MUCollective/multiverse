<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Extract variables and objects from the multiverse — extract_variables • multiverse</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Nunito_Sans-0.4.9/font.css" rel="stylesheet"><link href="../deps/Georgia-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Extract variables and objects from the multiverse — extract_variables"><meta name="description" content="This is a wrapper function for extracting one or more variables and objects declared from within the multiverse
in a tidy format."><meta property="og:description" content="This is a wrapper function for extracting one or more variables and objects declared from within the multiverse
in a tidy format."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">multiverse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/branch.html">A discussion on branches in the multiverse</a></li>
    <li><a class="dropdown-item" href="../articles/conditions.html">Declaring conditions in the multiverse</a></li>
    <li><a class="dropdown-item" href="../articles/example-dance.html">Example multiverse implementation: Recreating Adding inferential treatments to plots using Resampling and Animations using multiverse</a></li>
    <li><a class="dropdown-item" href="../articles/example-durante.html">Example multiverse implementation: Effect of fertility on religiosity and political attitudes</a></li>
    <li><a class="dropdown-item" href="../articles/example-frequentist.html">Example multiverse implementation: Re-evaluating the efficiency of physical visualizations</a></li>
    <li><a class="dropdown-item" href="../articles/example-hurricane.html">Example multiverse implementation: Female hurricanes are deadlier than male hurricanes</a></li>
    <li><a class="dropdown-item" href="../articles/execution-multiverse.html">Execution of multiverse analysis: Sequential and Parallel</a></li>
    <li><a class="dropdown-item" href="../articles/export-milliways.html">Exporting the output of a multiverse to JSON for Milliways, a multiverse visualisation tool</a></li>
    <li><a class="dropdown-item" href="../articles/multiverse-in-rmd.html">Using the multiverse in RMarkdown: Introduction to multiverse code chunks</a></li>
    <li><a class="dropdown-item" href="../articles/visualising-multiverse.html">Extracting and Visualising the results of a multiverse analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MUCollective/multiverse/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Extract variables and objects from the multiverse</h1>
      <small class="dont-index">Source: <a href="https://github.com/MUCollective/multiverse/blob/HEAD/R/extract.R" class="external-link"><code>R/extract.R</code></a></small>
      <div class="d-none name"><code>extract_variables.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is a wrapper function for extracting one or more variables and objects declared from within the multiverse
in a tidy format.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">extract_variables</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, .results <span class="op">=</span> <span class="va">.results</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'multiverse'</span></span>
<span><span class="fu">extract_variables</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, .results <span class="op">=</span> <span class="va">.results</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">extract_variables</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, .results <span class="op">=</span> <span class="va">.results</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>either a multiverse object or a dataframe (created using <code><a href="accessors.html">expand()</a></code>) from a multiverse object.
See usage.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>one or more variable (or object) names to be extracted from the multiverse object. The names can be quoted or unquoted.</p></dd>


<dt id="arg--results">.results<a class="anchor" aria-label="anchor" href="#arg--results"></a></dt>
<dd><p>(Optional) if the .results column which stores the environments for each unique analysis has been changed,
specify the new name of the column. Defaults to <code>.results</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In a typical analysis, the user will declare variables and objects inside the multiverse object.
However, it might be difficult to access the variables and objects, hence we provide convenient wrappers
in the form of <code>extract_variables()</code>.</p>
<p>If the user wants to extract one or more literals (strings, integers, doubles or logicals of length 1)
then each variables is separated out into its own column. If the user wants to extract one or more vectors (or lists)
then each such variable will be extracted in its own list column. If the user wants to extract one or more dataframe
then they a column of type data frame (or tibble) would be created (which is a special instance of a list column).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op">&lt;-</span> <span class="fu"><a href="multiverse.html">multiverse</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="inside.html">inside</a></span><span class="op">(</span><span class="va">M</span>, <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">50</span>, <span class="fl">20</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">x.mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">data</span>, trim <span class="op">=</span> <span class="fu"><a href="branch.html">branch</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">trim_values</span>,</span></span>
<span class="r-in"><span>    <span class="st">"trim_none"</span> <span class="op">~</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>    <span class="st">"trim_1pc"</span> <span class="op">~</span> <span class="fl">0.05</span>,</span></span>
<span class="r-in"><span>    <span class="st">"trim_5pc"</span> <span class="op">~</span> <span class="fl">0.025</span>,</span></span>
<span class="r-in"><span>    <span class="st">"trim_10pc"</span> <span class="op">~</span> <span class="fl">0.05</span></span></span>
<span class="r-in"><span>  <span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Universes {2 and 4} appear to be duplicates. This may be because the tree you created is asymmetric (did you use nested branch calls?). Please verify and prune universes before proceeding with your analysis. See vignette('branch') for more details.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extracts the relevant variable from the multiverse</span></span></span>
<span class="r-in"><span><span class="va">M</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">extract_variables</span><span class="op">(</span><span class="va">x.mean</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Universes {2 and 4} appear to be duplicates. This may be because the tree you created is asymmetric (did you use nested branch calls?). Please verify and prune universes before proceeding with your analysis. See vignette('branch') for more details.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .universe trim_values .parameter_assignment .code            .results .errors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>         1 trim_none   <span style="color: #949494;">&lt;named list [1]&gt;</span>      <span style="color: #949494;">&lt;named list [1]&gt;</span> <span style="color: #949494;">&lt;env&gt;</span>    <span style="color: #949494;">&lt;lgl&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>         2 trim_1pc    <span style="color: #949494;">&lt;named list [1]&gt;</span>      <span style="color: #949494;">&lt;named list [1]&gt;</span> <span style="color: #949494;">&lt;env&gt;</span>    <span style="color: #949494;">&lt;lgl&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>         3 trim_5pc    <span style="color: #949494;">&lt;named list [1]&gt;</span>      <span style="color: #949494;">&lt;named list [1]&gt;</span> <span style="color: #949494;">&lt;env&gt;</span>    <span style="color: #949494;">&lt;lgl&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>         4 trim_10pc   <span style="color: #949494;">&lt;named list [1]&gt;</span>      <span style="color: #949494;">&lt;named list [1]&gt;</span> <span style="color: #949494;">&lt;env&gt;</span>    <span style="color: #949494;">&lt;lgl&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: x.mean &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># if you want to filter the multiverse before extracting variables from it</span></span></span>
<span class="r-in"><span><span class="co"># you can first create the table and manipulate it before extracting variables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="accessors.html">expand</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">extract_variables</span><span class="op">(</span><span class="va">x.mean</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in UseMethod("expand"):</span> no applicable method for 'expand' applied to an object of class "multiverse"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># you can extract more than one variable from the multiverse simultaneously</span></span></span>
<span class="r-in"><span><span class="co"># these variables will be new columns in the dataset</span></span></span>
<span class="r-in"><span><span class="fu"><a href="accessors.html">expand</a></span><span class="op">(</span><span class="va">M</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">extract_variables</span><span class="op">(</span><span class="va">x.mean</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in UseMethod("expand"):</span> no applicable method for 'expand' applied to an object of class "multiverse"</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://abhsarma.github.io" class="external-link">Abhraneel Sarma</a>, <a href="http://www.mjskay.com" class="external-link">Matthew Kay</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

